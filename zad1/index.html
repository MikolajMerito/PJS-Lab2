<!DOCTYPE html>
<html lang="pl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pierwsza cz. js</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <nav>
        <button id="btn-slider-prev" class="btn-slider-prev" data-value="EN">Download</button>
        <button class="btn-slider-prev" data-value="RU">prev RU</button>
        <button class="btn-slider-prev" data-value="UA">prev UA</button>
    </nav>

    <h1 id="page-title">Przyklad selektorow DOM</h1>

    <ul id="lang-list">
        <li data-value="EN" class="select-option">
            <a href="#">EN</a>
        </li>
        <li data-value="RU" class="select-option">
            <a href="#">RU</a>
        </li>
        <li data-value="UA" class="select-option">
            <a href="#">/UA</a>
        </li>
    </ul>

    <div id="helloWrap">
        <h3>To jest tresc domyslna</h3>
    </div>

    <div id="posts"></div>

    <script>
        const message = "Hello World";
        const number1 = "1234";
        const number2 = 5678;

        const slider1 = document.getElementById("btn-slider-prev");
        const slider2 = document.getElementsByClassName("select-option");
        const slider3 = document.querySelector("#btn-slider-prev");
        const slider4 = document.querySelectorAll('.btn-slider-prev[data-value="EN"]');

        const divHelloWrap = document.getElementById("helloWrap");
        const postsContainer = document.getElementById("posts");
        // divHelloWrap.textContent = "<h2>To jest tresc z JS</h2>";
        // divHelloWrap.innerHTML = "<h2>To jest tresc z JS</h2>";

        // setTimeout(() => {
        //     divHelloWrap.innerHTML = "<h2>To jest tresc z JS</h2>";
        // }, 5000);

        const chageHTML = () => {
            divHelloWrap.innerHTML = "<h2>To jest tresc z JS</h2>";
        };

        setTimeout(chageHTML, 3000);
        // https://jsonplaceholder.typicode.com/posts?_limit=5

        const loadPosts = async () => {
            postsContainer.innerHTML = "<p>ladowanie danych</p>"
            const response = await fetch("https://jsonplaceholder.typicode.com/posts?_limit=5");

            if (!response.ok) {
                throw new Error("Blad pobierania danych");
            }

            const data = await response.json();

            setTimeout(() => {

                postsContainer.innerHTML = "";

                data.forEach(post => {
                    const postDiv = document.createElement("div");
                    postDiv.classList.add("post");
                    postDiv.innerHTML = `<h3>${post.title}</h3><p>${post.body}</p>`;
                    postsContainer.appendChild(postDiv);
                });
            }, 3000);

            console.log(data);
        }

        slider1.addEventListener("click", loadPosts);

        console.log({ slider1, slider2, slider3, slider4 });
    </script>

    <!-- <script src="script.js" defer></script> -->
</body>

</html>
